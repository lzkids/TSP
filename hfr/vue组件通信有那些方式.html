<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue组件通信有哪些方式 | TSP</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/TSP/favicon.ico">
    <meta name="description" content="总结面试to sum up">
    
    <link rel="preload" href="/TSP/assets/css/0.styles.befc3137.css" as="style"><link rel="preload" href="/TSP/assets/js/app.b468c643.js" as="script"><link rel="preload" href="/TSP/assets/js/2.491a9b15.js" as="script"><link rel="preload" href="/TSP/assets/js/32.b913e4e8.js" as="script"><link rel="prefetch" href="/TSP/assets/js/10.79531854.js"><link rel="prefetch" href="/TSP/assets/js/11.eea69362.js"><link rel="prefetch" href="/TSP/assets/js/12.c84af836.js"><link rel="prefetch" href="/TSP/assets/js/13.ff65334c.js"><link rel="prefetch" href="/TSP/assets/js/14.d5fb856e.js"><link rel="prefetch" href="/TSP/assets/js/15.b4ee8882.js"><link rel="prefetch" href="/TSP/assets/js/16.9a899e37.js"><link rel="prefetch" href="/TSP/assets/js/17.fabb78d1.js"><link rel="prefetch" href="/TSP/assets/js/18.98b8d047.js"><link rel="prefetch" href="/TSP/assets/js/19.d8347e7b.js"><link rel="prefetch" href="/TSP/assets/js/20.367d49c8.js"><link rel="prefetch" href="/TSP/assets/js/21.cc06a4be.js"><link rel="prefetch" href="/TSP/assets/js/22.06e773f2.js"><link rel="prefetch" href="/TSP/assets/js/23.562d9fea.js"><link rel="prefetch" href="/TSP/assets/js/24.5fccf54c.js"><link rel="prefetch" href="/TSP/assets/js/25.cd2a243e.js"><link rel="prefetch" href="/TSP/assets/js/26.daee596a.js"><link rel="prefetch" href="/TSP/assets/js/27.b5f7bcf9.js"><link rel="prefetch" href="/TSP/assets/js/28.478f8697.js"><link rel="prefetch" href="/TSP/assets/js/29.cf5f5e5c.js"><link rel="prefetch" href="/TSP/assets/js/3.6503dd6c.js"><link rel="prefetch" href="/TSP/assets/js/30.8fc26447.js"><link rel="prefetch" href="/TSP/assets/js/31.c073acf0.js"><link rel="prefetch" href="/TSP/assets/js/33.02237988.js"><link rel="prefetch" href="/TSP/assets/js/34.8534b2ff.js"><link rel="prefetch" href="/TSP/assets/js/35.9fbc8c14.js"><link rel="prefetch" href="/TSP/assets/js/4.b4d9a5aa.js"><link rel="prefetch" href="/TSP/assets/js/5.8199ee7d.js"><link rel="prefetch" href="/TSP/assets/js/6.72ad7c85.js"><link rel="prefetch" href="/TSP/assets/js/7.3133497b.js"><link rel="prefetch" href="/TSP/assets/js/8.7b4198ec.js"><link rel="prefetch" href="/TSP/assets/js/9.67af405f.js">
    <link rel="stylesheet" href="/TSP/assets/css/0.styles.befc3137.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TSP/" class="home-link router-link-active"><!----> <span class="site-name">TSP</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://kisskisso.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lzkids" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lzkids/Algorithm_warehouse" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://kisskisso.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lzkids" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lzkids/Algorithm_warehouse" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/TSP/" aria-current="page" class="sidebar-link">简洁之上</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础面试题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TSP/cst/cst.html" class="sidebar-link">vuex构成</a></li><li><a href="/TSP/cst/ES6.html" class="sidebar-link">ES6的特性</a></li><li><a href="/TSP/cst/CSS3特性.html" class="sidebar-link">CSS3特性</a></li><li><a href="/TSP/cst/什么是vuex？.html" class="sidebar-link">什么是vuex？</a></li><li><a href="/TSP/cst/W3C的标准是什么？.html" class="sidebar-link">W3C的标准是什么？</a></li><li><a href="/TSP/cst/esc.html" class="sidebar-link">js面向对象与继承</a></li><li><a href="/TSP/cst/前端布局方式.html" class="sidebar-link">前端布局方式</a></li><li><a href="/TSP/cst/less的好处.html" class="sidebar-link">less有什么好处</a></li><li><a href="/TSP/cst/HTML5常用标签.html" class="sidebar-link">HTML5常用标签</a></li><li><a href="/TSP/cst/HTML5离线存储怎么用？.html" class="sidebar-link">HTML5离线存储怎么用？</a></li><li><a href="/TSP/cst/HTML5离线存储原理是什么？.html" class="sidebar-link">HTML5离线存储原理是什么？</a></li><li><a href="/TSP/cst/HTML5语义化.html" class="sidebar-link">HTML5语义化</a></li><li><a href="/TSP/cst/v-if与v-show区别.html" class="sidebar-link">v-if与v-show区别</a></li><li><a href="/TSP/cst/什么样的前端代码最好？.html" class="sidebar-link">什么样的前端代码最好？</a></li><li><a href="/TSP/cst/javascript组成.html" class="sidebar-link">javascript组成</a></li><li><a href="/TSP/cst/js的基本数据类型和引用数据类型.html" class="sidebar-link">js的基本数据类型和引用数据类型</a></li><li><a href="/TSP/cst/后台管理系统是做什么的？.html" class="sidebar-link">后台管理系统是做什么的？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端优化相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TSP/aut/Vue优化.html" class="sidebar-link">Vue优化</a></li><li><a href="/TSP/aut/webpack优化.html" class="sidebar-link">webpack优化</a></li><li><a href="/TSP/aut/基础web优化.html" class="sidebar-link">web优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>高频率面试题？</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TSP/hfr/draft.html" class="sidebar-link">什么是MVVM</a></li><li><a href="/TSP/hfr/MVC开发思想.html" class="sidebar-link">MVC开发思想</a></li><li><a href="/TSP/hfr/vue和mvvm.html" class="sidebar-link">vue和mvvm关系</a></li><li><a href="/TSP/hfr/安全登录验证.html" class="sidebar-link">安全登录验证</a></li><li><a href="/TSP/hfr/vue组件通信有那些方式.html" class="active sidebar-link">vue组件通信有那些方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#_1-props-、-emit-适用于父子组件场景" class="sidebar-link">1.props 、$emit [适用于父子组件场景]</a></li><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#_2-中央事件总线-eventbus-适用于兄弟组件通讯-emit-on" class="sidebar-link">2.中央事件总线 EventBus[适用于兄弟组件通讯] （$emit / $on）</a></li><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#_3-attrs-listeners-适用于父-子-孙组件通讯" class="sidebar-link">3.$attrs / $listeners[适用于父---子---孙组件通讯]</a></li><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#_4-vuex" class="sidebar-link">4.vuex</a></li><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#_5-provide-inject" class="sidebar-link">5.provide / inject</a></li><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#_6-parent-children与-ref" class="sidebar-link">6.$parent / $children与 ref</a></li><li class="sidebar-sub-header"><a href="/TSP/hfr/vue组件通信有那些方式.html#总结" class="sidebar-link">总结：</a></li></ul></li><li><a href="/TSP/hfr/vue生命周期函数.html" class="sidebar-link">vue生命周期函数</a></li><li><a href="/TSP/hfr/webpack怎么打包.html" class="sidebar-link">webpack怎么打包</a></li><li><a href="/TSP/hfr/前端常见的跨域问题.html" class="sidebar-link">前端常见的跨域问题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue组件通信有哪些方式"><a href="#vue组件通信有哪些方式" class="header-anchor">#</a> vue组件通信有哪些方式</h1> <h2 id="_1-props-、-emit-适用于父子组件场景"><a href="#_1-props-、-emit-适用于父子组件场景" class="header-anchor">#</a> 1.<code>props</code> 、<code>$emit</code> [适用于父子组件场景]</h2> <p>​    1.1父组件向子组件传值（子组件通过props接收）</p> <p>​    1.2子组件向父组件传值（通过$emit事件形成）</p> <h2 id="_2-中央事件总线-eventbus-适用于兄弟组件通讯-emit-on"><a href="#_2-中央事件总线-eventbus-适用于兄弟组件通讯-emit-on" class="header-anchor">#</a> 2.中央事件总线 EventBus[适用于兄弟组件通讯] （<code>$emit</code> / <code>$on</code>）</h2> <p>​     2.1<code>EventBus</code> 通过新建一个 <code>Vue</code> 事件 <code>bus</code> 对象，然后通过 <code>bus.$emit</code> 触发事件，<code>bus.$on</code> 监听触发的事件。</p> <h2 id="_3-attrs-listeners-适用于父-子-孙组件通讯"><a href="#_3-attrs-listeners-适用于父-子-孙组件通讯" class="header-anchor">#</a> 3.<code>$attrs</code> / <code>$listeners</code>[适用于父---子---孙组件通讯]</h2> <p>​      <code>$attrs</code>：包含了父作用域中不被 prop 所识别 (且获取) 的特性绑定 (<code>class</code> 和 <code>style</code> 除外)。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定属性 (class和 <code>style</code> 除外)，并且可以通过 <code>v-bind=&quot;$attrs&quot;</code> 传入内部组件。</p> <p><code>$listeners</code>：包含了父作用域中的 (不含 <code>.native</code> 修饰器的) <code>v-on</code> 事件监听器。它可以通过 <code>v-on=&quot;$listeners&quot;</code> 传入内部组件。</p> <h2 id="_4-vuex"><a href="#_4-vuex" class="header-anchor">#</a> 4.vuex</h2> <img src="https://img-1302744895.cos.ap-hongkong.myqcloud.com/img/vuex.png" style="zoom:67%;"> <p>Vuex实现了一个单向数据流，在全局拥有一个State存放数据，当组件要更改State中的数据时，必须通过Mutation进行，Mutation同时提供了订阅者模式供外部插件调用获取State数据的更新。而当所有异步操作(常见于调用后端接口异步获取更新数据)或批量的同步操作需要走Action，但Action也是无法直接修改State的，还是需要通过Mutation来修改State的数据。最后，根据State的变化，渲染到视图上。</p> <h2 id="_5-provide-inject"><a href="#_5-provide-inject" class="header-anchor">#</a> 5.<code>provide</code> / <code>inject</code></h2> <p>​    <strong>以允许一个祖先组件向其所有子孙后代注入一个依赖，不论组件层次有多深，并在起上下游关系成立的时间里始终生效</strong>。（祖先组件中通过provider来提供变量，然后在子孙组件中通过inject来注入变量。）</p> <p><strong>provide / inject API 主要解决了跨级组件间的通信问题，不过它的使用场景，主要是子组件获取上级组件的状态，跨级组件间建立了一种主动提供与依赖注入的关系</strong>。</p> <h2 id="_6-parent-children与-ref"><a href="#_6-parent-children与-ref" class="header-anchor">#</a> 6.<code>$parent</code> / <code>$children</code>与 <code>ref</code></h2> <p><code>ref</code>：如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例</p> <p><code>$parent</code> / <code>$children</code>：访问父 / 子实例</p> <p>注：这两种都是直接得到组件实例，使用后可以直接调用组件的方法或访问数据。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结：</h2> <p>常见使用场景可以分为三类：</p> <ul><li>父子通信： 父向子传递数据是通过 props，子向父是通过 events（<code>$emit</code>）；通过父链 / 子链也可以通信（<code>$parent</code> / <code>$children</code>）；ref 也可以访问组件实例；provide / inject API；<code>$attrs/$listeners</code></li> <li>兄弟通信： Bus；Vuex</li> <li>跨级通信： Bus；Vuex；provide / inject API、<code>$attrs/$listeners</code></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TSP/hfr/安全登录验证.html" class="prev">
        安全登录验证
      </a></span> <span class="next"><a href="/TSP/hfr/vue生命周期函数.html">
        vue生命周期函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TSP/assets/js/app.b468c643.js" defer></script><script src="/TSP/assets/js/2.491a9b15.js" defer></script><script src="/TSP/assets/js/32.b913e4e8.js" defer></script>
  </body>
</html>
